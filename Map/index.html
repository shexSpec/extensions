<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="generator" content="emacs" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <title>ShExMap</title>
    <link rel="stylesheet" href="local.css" type="text/css" />
    <style type="text/css">
      code { background-color: #dfd; }
      .constant {
        /* font-lock-constant-face */
        color: #008b8b;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .preprocessor {
        /* font-lock-preprocessor-face */
        color: #483d8b;
      }
      .string {
        /* font-lock-string-face */
        color: #8b2252;
      }
      .type {
        /* font-lock-type-face */
        color: #228b22;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #a0522d;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    </style>
    	<script src='//www.w3.org/Tools/respec/respec-w3c-common' async class='remove'></script>
	    <script class='remove'>
	      var respecConfig = {
	          specStatus: "unofficial",
	          shortName:  "shexmap",
            edDraftURI: "http://shexspec.github.io/extensions/Map/",
	          editors: [
	                {   name:       "Eric Prud'hommeaux",
	                    url:        "http://www.w3.org/People/Eric/",
	                    company:    "W3C/MIT",
	                    companyURL: "http://www.w3.org/" }
	          ],
	          wg:           "HCLS",
	          wgURI:        "https://www.w3.org/wiki/HCLSIG",
	          wgPublicList: "public-semweb-lifesci",
	          wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/38539/status",
	      };
	    </script>
  </head>

  <body>
    <div id="abstract">
      <p>
        This document motivates intuitive bridges between conventional clinical data representations and domain-specific ontologies that will be useful for knowledge/rule capture.
      </p>
    </div>

    <div>
      <h2 id="GenericObservations">Generic Observations</h2>
    <p>
      Most clinical data exchange denormalizes structured observations like blood pressure, APGAR, full blood count panel, etc into a constellation of observations.
      This encodes the semantics of the observation structure in conventions of terminology codes, e.g. <code>75367002| Blood pressure |</code> , <code>271649006| Systolic blood pressure |</code> and <code>271650006 | Diastolic blood pressure |</code>.
      Linkage between these are captured by some over-general predicates in the information model, e.g. <a href="http://www.hl7.org/FHIR/2015May/observation-definitions.html#Observation.related">fhir:related</a> or <a href="http://www.hl7.org/documentcenter/public_temp_402A2BAD-1C23-BA17-0C8B774BAD528AA6/standards/vocabulary/vocabulary_tables/infrastructure/vocabulary/vs_ActRelationshipType.html#ActRelationshipHasComponent">rim:COMP - has component</a>.
    </p>

    <p>
      RIM resuses Act and ActRelationships to capture these structures, providing a richer vocabulary of relationships captured in ActRelationships type codes.
      The body site or device for a blood pressure measurement are attached to the blood pressure observation by type codes like 
      Diagnostic processes like evidence and causality are captured in type codes <a href="http://www.hl7.org/documentcenter/public_temp_402A2BAD-1C23-BA17-0C8B774BAD528AA6/standards/vocabulary/vocabulary_tables/infrastructure/vocabulary/vs_ActRelationshipType.html#ActRelationshipProvidesEvidenceFor">EVID - provides evidence for</a> and <a href="http://www.hl7.org/documentcenter/public_temp_402A2BAD-1C23-BA17-0C8B774BAD528AA6/standards/vocabulary/vocabulary_tables/infrastructure/vocabulary/vs_ActRelationshipType.html#ActRelationshipIsEtiologyFor">CAUS - is etiology for</a>.
      FHIR has specialized relationships to capture some structural relationships like <a href="http://www.hl7.org/FHIR/2015May/observation-definitions.html#Observation.bodySite_x_">body site</a> or <a href="http://www.hl7.org/FHIR/2015May/observation-definitions.html#Observation.device">device</a>.
    </p>
    </div>

    <p>
      Even if we imposed a more complex information model for structured observations or treatment processes, there would always be some stuff for which there was no defined model.
      The semweb story "just invent some stuff and maybe it will get popular" isn't well suited to either the skills of the information wranglers or conventional paper-oriented clinical and legal processes.
    </p>

    <div>
      <h2 id="DomainModels">Domain models</h2>
      <div>
        <h3 id="whyDAMs">Why do we need domain models?</h3>
        <p>
          Domain models will likely be more principled in their design and will definitely be more intuitive the physical models involving constellations of observations.
          A class and relationship hierarchy such as that implemented in ActRelationship type codes will be more simply expressed in an RDF ontology and will leverage existing RDF tooling for model and example verification.          
        </p>
      </div>

      <div>
        <h3 id="availableDAMs">Available DAMs</h3>
        <p>
          Projects like CIMI engage clinicians in the development of intuitive domain models, e.g. a blood pressure and a structure with a measurement of a systolic and distolic pressure, and maybe some other stuff like posture or device.
          Here are a few CIMI models:
        </p>

        <ul>
          <li><a href="https://openehr.atlassian.net/wiki/display/CIMI/CIMI+CLINICAL_DATA_GROUP+Model?preview=/1802241/1933330/BP_archetype.png">blood pressure</a></li>
          <li><a href="http://www.w3.org/2015/Talks/0203-11179-egp/#(6)">APGAR</a></li>
          <li><a href="https://openehr.atlassian.net/wiki/display/CIMI/CIMI+CLINICAL_DATA_GROUP+Model">full blood count panel</a></li>
        </ul>
      </div>

      <div>
        <h3 id="DAMasOntology">DAM as Ontology</h3>
        <p>
          Ideally, development of little DAMs would include identifying all of the intersections between them, creating a more comprehensive DAM, and ontology of clinical artifacts.
          The body mass used in an estimated glomerular filtration rate is the same as the body mass used in a body mass index.
          A useful clinical ontology in RDF would capture that by reusing the same identifiers wherever the same concept was reused.
        </p>
      </div>
    </div>

    <div>
      <h2 id="Mappings">Mappings</h2>
      <div>
        <h3 id="whyMappings">Why do we need mappings?</h3>
        <p>
          
        </p>
        <ul>
          <li>Definitions for physical representations — presuming the DAM has intuitive and useful semantics mapping a physical model to a logical model provides clear guidelines for implementors who need to work with the corresponding physical models. These take the place of implementation guidelines or instance diagrams.</li>
          <li>Duplication detection — if two domain models map to the same physical model, either the models are incomplete or they duplicate each other. This will be tempered by the fact that any models that share components will necessarily map to the same physical model.</li>
          <li>Data/query transformation — mapping between a physical model and a logical model provides users of the logical model, for instance, someone writing clinical decisions support rules, access to working clinical data. Mappings between a logical model and two or more physical models enables mappings between those physical models.</li>
        </ul>
      </div>

      <div>
        <h3 id="mappingMechanism">Mapping mechanism?</h3>
        <p>
          As the models are described as ShEx schemas, the mappings between them are captured as shared "variables" in a <span class="preprocessor">%map:{ %}</span> extension.
          These variables are given full URLs which enables trivial disambiguation, as well as leveraging standard prefix conventions for easier lexical categorization.
        </p>
      </div>

      <div>
        <h3 id="bpexample">Blood pressure example</h3>
        <div>
          <h4 id="BPDAM">BP DAM</h4>
          <div>
            <h5 id="BPunitsDAM">BP units DAM</h5>
            <pre class="example">
<span class="variable-name">&lt;BPunitsDAM&gt;</span> {
    <span class="variable-name">:systolic</span> {
        <span class="type">:</span><span class="constant">value</span> <span class="type">xsd:</span><span class="constant">float</span> <span class="preprocessor">%map:{ bp:sysVal %}</span>,
        <span class="type">:</span><span class="constant">units</span> <span class="type">xsd:</span><span class="constant">string</span> <span class="preprocessor">%map:{ bp:sysUnits %}</span>
    },
    <span class="variable-name">:diastolic</span> {
        <span class="type">:</span><span class="constant">value</span> <span class="type">xsd:</span><span class="constant">float</span> <span class="preprocessor">%map:{ bp:diaVal %}</span>,
        <span class="type">:</span><span class="constant">units</span> <span class="type">xsd:</span><span class="constant">string</span> <span class="preprocessor">%map:{ bp:diaUnits %}</span>
    }
}
            </pre>
          </div>

          <div>
            <h5 id="BPnormalizedDAM">BP normalized DAM</h5>
            <pre class="example">
<span class="variable-name">&lt;BPnormalizeDAM&gt;</span> {
    <span class="keyword">a</span> (<span class="type">:</span><span class="constant">CanonicalBloodPressure</span>),
    <span class="type">:</span><span class="constant">systolicBPmmHg</span> <span class="type">xsd:</span><span class="constant">float</span> <span class="preprocessor">%map:{ cast(bp:sysVal, bp:sysUnits, "mmHg") %}</span>,
    <span class="type">:</span><span class="constant">diastolicBPmmHg</span> <span class="type">xsd:</span><span class="constant">float</span> <span class="preprocessor">%map:{ cast(bp:diaUnits, bp:diaUnits, "mmHg") %}</span>
}
            </pre>
          </div>
        </div>

        <div>
          <h4 id="BPFHIR">BP FHIR</h4>
            <pre class="example">
<span class="variable-name">&lt;BPfhir&gt;</span> {
    <span class="keyword">a</span> (<span class="type">fhir:</span><span class="constant">Observation</span>)<span class="keyword">?</span>,
    <span class="variable-name">fhir:coding</span> { <span class="type">fhir:</span><span class="constant">code</span> (<span class="type">sct:</span><span class="constant">Blood_Pressure</span>) },
    <span class="variable-name">fhir:related</span> { <span class="type">fhir:</span><span class="constant">type</span> (<span class="string">"has-component"</span>), <span class="type">fhir:</span><span class="constant">target</span> <span class="variable-name">@&lt;sysBP&gt;</span> },
    <span class="variable-name">fhir:related</span> { <span class="type">fhir:</span><span class="constant">type</span> (<span class="string">"has-component"</span>), <span class="type">fhir:</span><span class="constant">target</span> <span class="variable-name">@&lt;diaBP&gt;</span> }
}
<span class="variable-name">&lt;sysBP&gt;</span> {
    <span class="keyword">a</span> (<span class="type">fhir:</span><span class="constant">Observation</span>)<span class="keyword">?</span>,
    <span class="variable-name">fhir:coding</span> { <span class="type">fhir:</span><span class="constant">code</span> (<span class="type">sct:</span><span class="constant">Systolic_Blood_Pressure</span>) },
    <span class="variable-name">fhir:valueQuantity</span> {
        <span class="keyword">a</span> (<span class="type">fhir:</span><span class="constant">Quantity</span>)<span class="keyword">?</span>,
        <span class="type">fhir:</span><span class="constant">value</span> <span class="type">xsd:</span><span class="constant">float</span> <span class="preprocessor">%map:{ bp:sysVal %}</span>,
        <span class="type">fhir:</span><span class="constant">units</span> <span class="type">xsd:</span><span class="constant">string</span> <span class="preprocessor">%map:{ bp:sysUnits %}</span>
    },
}
<span class="variable-name">&lt;diaBP&gt;</span> {
    <span class="keyword">a</span> (<span class="type">fhir:</span><span class="constant">Observation</span>)<span class="keyword">?</span>,
    <span class="variable-name">fhir:coding</span> { <span class="type">fhir:</span><span class="constant">code</span> (<span class="type">sct:</span><span class="constant">Diastolic_Blood_Pressure</span>) },
    <span class="variable-name">fhir:valueQuantity</span> {
        <span class="keyword">a</span> (<span class="type">fhir:</span><span class="constant">Quantity</span>)<span class="keyword">?</span>,
        <span class="type">fhir:</span><span class="constant">value</span> <span class="type">xsd:</span><span class="constant">float</span> <span class="preprocessor">%map:{ bp:diaVal %}</span>,
        <span class="type">fhir:</span><span class="constant">units</span> <span class="type">xsd:</span><span class="constant">string</span> <span class="preprocessor">%map:{ bp:diaUnits %}</span>
    },
}
</pre>
</div>
</div>
    </div>

    <div>
      <h2 id="Mechanism">Mechanism</h2>
      <ol>
        <li>Validate instance document with respect to source schema (say <a href="#BPFHIR">BP FHIR</a>)<br/>
        produces variable bindings</li>
        <li>Invoke <code>generate</code> with the start shape of the target schema (say <a href="BPDAM">BP DAM</a>) and a fresh bnode</li>
        <li>The shape is <code>S</code> and the current subject is <code>B</code>.</li>
        <li>for each property <code>P</code>:
        <ol>
          <li>if the property is a reference to shape <code>R</code>, create a fresh bnode <code>Bchild</code>, assert <code>(B, P, Bchild)</code>, invoke <code>generate</code> with the shape <code>R</code> and the subject <code>Bchild</code>.
          </li>
          <li>if the element is a leaf node (scalar value)<br/>
          if the element has a variable and the variable is bound to <code>V</code>, assert <code>(B, P, V)</code></li>
        </ol>
        </li>
        <li>The resulting graph of assertions should validate as the target schema.</li>
      </ol>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="35cm"
   height="32cm"
   viewBox="40 18 687 625"
   id="svg3553"
   version="1.1"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="BPmap.svg">
  <metadata
     id="metadata4081">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <defs
     id="defs4079" />
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="1530"
     inkscape:window-height="1103"
     id="namedview4077"
     showgrid="false"
     inkscape:zoom="0.89076388"
     inkscape:cx="494.34396"
     inkscape:cy="681.94495"
     inkscape:window-x="386"
     inkscape:window-y="63"
     inkscape:window-maximized="0"
     inkscape:current-layer="layer1" />
  <g
     inkscape:groupmode="layer"
     id="layer3"
     inkscape:label="sprites"
     style="display:none">
    <g
       id="leftText">
      <text
         id="text3555"
         y="60"
         x="60"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#ffa500;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3557"
           y="60"
           x="60">Patient:Аника</tspan>
      </text>
      <text
         id="text3563"
         y="100"
         x="60"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3565"
           y="100"
           x="60">BloodPressureReading:_:a</tspan>
      </text>
      <text
         id="text3567"
         y="120"
         x="80"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3569"
           y="120"
           x="80">Systolic:_:b</tspan>
      </text>
      <text
         id="text3571"
         y="140"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#a52a2a;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3573"
           y="140"
           x="100">SystolicUnits:mmHg</tspan>
      </text>
      <text
         id="text3575"
         y="160"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#8b6914;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3577"
           y="160"
           x="100">SystolicValue:110</tspan>
      </text>
      <text
         id="text3579"
         y="180"
         x="80"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3581"
           y="180"
           x="80">Diastolic:_:c</tspan>
      </text>
      <text
         id="text3583"
         y="200"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#ffc0cb;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3585"
           y="200"
           x="100">DiastolicUnits:mmHg</tspan>
      </text>
      <text
         id="text3587"
         y="220"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#800080;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3589"
           y="220"
           x="100">DiastolicValue:70</tspan>
      </text>
      <text
         id="text3591"
         y="80"
         x="60"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#008000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3593"
           y="80"
           x="60">PatientID:1234567</tspan>
      </text>
      <text
         id="text3627"
         y="40"
         x="40"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3629"
           y="40"
           x="40">:p1234567</tspan>
      </text>
      <text
         id="text3635"
         y="280"
         x="80"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3637"
           y="280"
           x="80">Systolic:_:e</tspan>
      </text>
      <text
         id="text3639"
         y="300"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#a52a2a;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3641"
           y="300"
           x="100">SystolicUnits:mmHg</tspan>
      </text>
      <text
         id="text3643"
         y="320"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#8b6914;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3645"
           y="320"
           x="100">SystolicValue:110</tspan>
      </text>
      <text
         id="text3647"
         y="340"
         x="80"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3649"
           y="340"
           x="80">Diastolic:_:f</tspan>
      </text>
      <text
         id="text3651"
         y="360"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#ffc0cb;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3653"
           y="360"
           x="100">DiastolicUnits:mmHg</tspan>
      </text>
      <text
         id="text3655"
         y="380"
         x="100"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#800080;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3657"
           y="380"
           x="100">DiastolicValue:70</tspan>
      </text>
      <text
         id="text3659"
         y="260"
         x="60"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3661"
           y="260"
           x="60">BloodPressureReading:_:d</tspan>
      </text>
    </g>
    <g
       id="leftTree">
      <line
         id="line3959"
         y2="440"
         x2="120"
         y1="400"
         x1="140"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3961"
         y2="440"
         x2="140"
         y1="400"
         x1="140"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3963"
         y2="440"
         x2="180"
         y1="400"
         x1="140"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3965"
         y2="500"
         x2="140"
         y1="460"
         x1="160"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3967"
         y2="500"
         x2="160"
         y1="460"
         x1="160"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3969"
         y2="500"
         x2="200"
         y1="460"
         x1="200"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3971"
         y2="500"
         x2="240"
         y1="460"
         x1="200"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3973"
         y2="560"
         x2="120"
         y1="520"
         x1="140"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3975"
         y2="560"
         x2="140"
         y1="520"
         x1="140"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3977"
         y2="560"
         x2="160"
         y1="520"
         x1="160"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3979"
         y2="560"
         x2="180"
         y1="520"
         x1="160"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3981"
         y2="560"
         x2="200"
         y1="520"
         x1="200"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3983"
         y2="560"
         x2="220"
         y1="520"
         x1="200"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3985"
         y2="560"
         x2="240"
         y1="520"
         x1="240"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <line
         id="line3987"
         y2="560"
         x2="260"
         y1="520"
         x1="240"
         style="fill:none;stroke:#000000;stroke-width:2" />
      <g
         id="g3989">
        <line
           id="line3991"
           y2="455.52802"
           x2="120"
           y1="440"
           x1="120"
           style="fill:none;stroke:#ffa500;stroke-width:2" />
        <polyline
           id="polyline3993"
           points="115,447.764 120,457.764 125,447.764 "
           style="fill:none;stroke:#ffa500;stroke-width:2" />
      </g>
      <g
         id="g3995">
        <line
           id="line3997"
           y2="455.52802"
           x2="140"
           y1="440"
           x1="140"
           style="fill:none;stroke:#008000;stroke-width:2" />
        <polyline
           id="polyline3999"
           points="135,447.764 140,457.764 145,447.764 "
           style="fill:none;stroke:#008000;stroke-width:2" />
      </g>
      <line
         id="line4001"
         y2="460"
         x2="160"
         y1="440"
         x1="180"
         style="fill:none;stroke:#7f7f7f;stroke-width:2" />
      <line
         id="line4003"
         y2="460"
         x2="200"
         y1="440"
         x1="180"
         style="fill:none;stroke:#7f7f7f;stroke-width:2" />
      <g
         id="g4005">
        <line
           id="line4007"
           y2="515.52802"
           x2="140"
           y1="500"
           x1="140"
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
        <polyline
           id="polyline4009"
           points="135,507.764 140,517.764 145,507.764 "
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
      </g>
      <g
         id="g4011">
        <line
           id="line4013"
           y2="515.52802"
           x2="160"
           y1="500"
           x1="160"
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
        <polyline
           id="polyline4015"
           points="155,507.764 160,517.764 165,507.764 "
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
      </g>
      <g
         id="g4017">
        <line
           id="line4019"
           y2="515.52802"
           x2="200"
           y1="500"
           x1="200"
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
        <polyline
           id="polyline4021"
           points="195,507.764 200,517.764 205,507.764 "
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
      </g>
      <g
         id="g4023">
        <line
           id="line4025"
           y2="515.52802"
           x2="240"
           y1="500"
           x1="240"
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
        <polyline
           id="polyline4027"
           points="235,507.764 240,517.764 245,507.764 "
           style="fill:none;stroke:#7f7f7f;stroke-width:2" />
      </g>
      <g
         id="g4029">
        <line
           id="line4031"
           y2="575.52802"
           x2="120"
           y1="560"
           x1="120"
           style="fill:none;stroke:#a52a2a;stroke-width:2" />
        <polyline
           id="polyline4033"
           points="115,567.764 120,577.764 125,567.764 "
           style="fill:none;stroke:#a52a2a;stroke-width:2" />
      </g>
      <g
         id="g4035">
        <line
           id="line4037"
           y2="575.52802"
           x2="140"
           y1="560"
           x1="140"
           style="fill:none;stroke:#8b6914;stroke-width:2" />
        <polyline
           id="polyline4039"
           points="135,567.764 140,577.764 145,567.764 "
           style="fill:none;stroke:#8b6914;stroke-width:2" />
      </g>
      <g
         id="g4041">
        <line
           id="line4043"
           y2="575.52802"
           x2="160"
           y1="560"
           x1="160"
           style="fill:none;stroke:#ffc0cb;stroke-width:2" />
        <polyline
           id="polyline4045"
           points="155,567.764 160,577.764 165,567.764 "
           style="fill:none;stroke:#ffc0cb;stroke-width:2" />
      </g>
      <g
         id="g4047">
        <line
           id="line4049"
           y2="575.52802"
           x2="180"
           y1="560"
           x1="180"
           style="fill:none;stroke:#800080;stroke-width:2" />
        <polyline
           id="polyline4051"
           points="175,567.764 180,577.764 185,567.764 "
           style="fill:none;stroke:#800080;stroke-width:2" />
      </g>
      <g
         id="g4053">
        <line
           id="line4055"
           y2="575.52802"
           x2="200"
           y1="560"
           x1="200"
           style="fill:none;stroke:#a52a2a;stroke-width:2" />
        <polyline
           id="polyline4057"
           points="195,567.764 200,577.764 205,567.764 "
           style="fill:none;stroke:#a52a2a;stroke-width:2" />
      </g>
      <g
         id="g4059">
        <line
           id="line4061"
           y2="575.52802"
           x2="220"
           y1="560"
           x1="220"
           style="fill:none;stroke:#8b6914;stroke-width:2" />
        <polyline
           id="polyline4063"
           points="215,567.764 220,577.764 225,567.764 "
           style="fill:none;stroke:#8b6914;stroke-width:2" />
      </g>
      <g
         id="g4065">
        <line
           id="line4067"
           y2="575.52802"
           x2="240"
           y1="560"
           x1="240"
           style="fill:none;stroke:#ffc0cb;stroke-width:2" />
        <polyline
           id="polyline4069"
           points="235,567.764 240,577.764 245,567.764 "
           style="fill:none;stroke:#ffc0cb;stroke-width:2" />
      </g>
      <g
         id="g4071">
        <line
           id="line4073"
           y2="575.52802"
           x2="260"
           y1="560"
           x1="260"
           style="fill:none;stroke:#800080;stroke-width:2" />
        <polyline
           id="polyline4075"
           points="255,567.764 260,577.764 265,567.764 "
           style="fill:none;stroke:#800080;stroke-width:2" />
      </g>
    </g>
    <g
       id="arrows">
      <g
         id="g3747">
        <line
           id="line3749"
           y2="42.330101"
           x2="388.18799"
           y1="55.9086"
           x1="250.593"
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
        <polygon
           id="polygon3751"
           points="388.679,47.3059 398.14,41.348 387.697,37.3543 "
           style="fill:#ffffff" />
        <polygon
           id="polygon3753"
           points="388.679,47.3059 398.14,41.348 387.697,37.3543 "
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
      </g>
      <g
         id="g3755">
        <line
           id="line3757"
           y2="116.927"
           x2="388.254"
           y1="97.907898"
           x1="250.593"
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
        <polygon
           id="polygon3759"
           points="387.57,121.88 398.16,118.296 388.938,111.974 "
           style="fill:#ffffff" />
        <polygon
           id="polygon3761"
           points="387.57,121.88 398.16,118.296 388.938,111.974 "
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
      </g>
      <g
         id="g3763">
        <line
           id="line3765"
           y2="372.89401"
           x2="392.26401"
           y1="259.759"
           x1="250.04601"
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
        <polygon
           id="polygon3767"
           points="389.152,376.807 400.09,379.119 395.377,368.981 "
           style="fill:#ffffff" />
        <polygon
           id="polygon3769"
           points="389.152,376.807 400.09,379.119 395.377,368.981 "
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
      </g>
    </g>
    <g
       id="rightText">
      <text
         id="text3595"
         y="60"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#ffa500;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3597"
           y="60"
           x="440">personName:Аника</tspan>
      </text>
      <text
         id="text3599"
         y="120"
         x="420"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3601"
           y="120"
           x="420">:Patient-1234567.Obs1</tspan>
      </text>
      <text
         id="text3603"
         y="180"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3605"
           y="180"
           x="440">related:</tspan>
      </text>
      <text
         id="text3607"
         y="240"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#a52a2a;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3609"
           y="240"
           x="480">units:mmHg</tspan>
      </text>
      <text
         id="text3611"
         y="260"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#8b6914;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3613"
           y="260"
           x="480">value:110</tspan>
      </text>
      <text
         id="text3615"
         y="80"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#008000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3617"
           y="80"
           x="440">personID:1234567</tspan>
      </text>
      <text
         id="text3619"
         y="40"
         x="420"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3621"
           y="40"
           x="420">:Patient-1234567</tspan>
      </text>
      <text
         id="text3623"
         y="160"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#008000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3625"
           y="160"
           x="440">subjectID:1234567</tspan>
      </text>
      <text
         id="text3663"
         y="140"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#7f7f7f;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3665"
           y="140"
           x="440">code:BloodPressure</tspan>
      </text>
      <text
         id="text3667"
         y="200"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#7f7f7f;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3669"
           y="200"
           x="460">code:SystolicBloodPressure</tspan>
      </text>
      <text
         id="text3671"
         y="220"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3673"
           y="220"
           x="460">quantity:</tspan>
      </text>
      <text
         id="text3675"
         y="280"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3677"
           y="280"
           x="440">related:</tspan>
      </text>
      <text
         id="text3679"
         y="340"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#ffc0cb;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3681"
           y="340"
           x="480">units:mmHg</tspan>
      </text>
      <text
         id="text3683"
         y="360"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#800080;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3685"
           y="360"
           x="480">value:110</tspan>
      </text>
      <text
         id="text3687"
         y="300"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#7f7f7f;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3689"
           y="300"
           x="460">code:SystolicBloodPressure</tspan>
      </text>
      <text
         id="text3691"
         y="320"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3693"
           y="320"
           x="460">quantity:</tspan>
      </text>
      <text
         id="text3695"
         y="400"
         x="420"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3697"
           y="400"
           x="420">:Patient-1234567.Obs2</tspan>
      </text>
      <text
         id="text3699"
         y="460"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3701"
           y="460"
           x="440">related:</tspan>
      </text>
      <text
         id="text3703"
         y="520"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#a52a2a;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3705"
           y="520"
           x="480">units:mmHg</tspan>
      </text>
      <text
         id="text3707"
         y="540"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#8b6914;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3709"
           y="540"
           x="480">value:110</tspan>
      </text>
      <text
         id="text3711"
         y="440"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#008000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3713"
           y="440"
           x="440">subjectID:1234567</tspan>
      </text>
      <text
         id="text3715"
         y="420"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#7f7f7f;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3717"
           y="420"
           x="440">code:BloodPressure</tspan>
      </text>
      <text
         id="text3719"
         y="480"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#7f7f7f;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3721"
           y="480"
           x="460">code:SystolicBloodPressure</tspan>
      </text>
      <text
         id="text3723"
         y="500"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3725"
           y="500"
           x="460">quantity:</tspan>
      </text>
      <text
         id="text3727"
         y="560"
         x="440"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3729"
           y="560"
           x="440">related:</tspan>
      </text>
      <text
         id="text3731"
         y="620"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#ffc0cb;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3733"
           y="620"
           x="480">units:mmHg</tspan>
      </text>
      <text
         id="text3735"
         y="640"
         x="480"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#800080;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3737"
           y="640"
           x="480">value:110</tspan>
      </text>
      <text
         id="text3739"
         y="580"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#7f7f7f;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3741"
           y="580"
           x="460">code:SystolicBloodPressure</tspan>
      </text>
      <text
         id="text3743"
         y="600"
         x="460"
         style="font-size:12.79979992px;font-style:normal;font-weight:normal;text-anchor:start;fill:#000000;font-family:sans-serif"
         font-size="12.7998">
        <tspan
           id="tspan3745"
           y="600"
           x="460">quantity:</tspan>
      </text>
    </g>
    <g
       id="rightTree">
      <g
         id="rightObs1">
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="120"
           x2="620"
           y2="160"
           id="line3771" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="120"
           x2="640"
           y2="160"
           id="line3773" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="120"
           x2="680"
           y2="160"
           id="line3775" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="180"
           x2="640"
           y2="220"
           id="line3777" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="180"
           x2="660"
           y2="220"
           id="line3779" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="180"
           x2="680"
           y2="220"
           id="line3781" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="180"
           x2="700"
           y2="220"
           id="line3783" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="240"
           x2="660"
           y2="280"
           id="line3785" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="240"
           x2="680"
           y2="280"
           id="line3787" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="240"
           x2="700"
           y2="280"
           id="line3789" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="240"
           x2="720"
           y2="280"
           id="line3791" />
        <g
           id="g3793">
          <line
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             x1="620"
             y1="160"
             x2="620"
             y2="175.528"
             id="line3795" />
          <polyline
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             points="615,167.764 620,177.764 625,167.764 "
             id="polyline3797" />
        </g>
        <g
           id="g3799">
          <line
             style="fill:none;stroke:#008000;stroke-width:2"
             x1="640"
             y1="160"
             x2="640"
             y2="175.528"
             id="line3801" />
          <polyline
             style="fill:none;stroke:#008000;stroke-width:2"
             points="635,167.764 640,177.764 645,167.764 "
             id="polyline3803" />
        </g>
        <line
           style="fill:none;stroke:#7f7f7f;stroke-width:2"
           x1="680"
           y1="160"
           x2="660"
           y2="180"
           id="line3805" />
        <line
           style="fill:none;stroke:#7f7f7f;stroke-width:2"
           x1="680"
           y1="160"
           x2="700"
           y2="180"
           id="line3807" />
        <g
           id="g3809">
          <line
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             x1="640"
             y1="220"
             x2="640"
             y2="235.528"
             id="line3811" />
          <polyline
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             points="635,227.764 640,237.764 645,227.764 "
             id="polyline3813" />
        </g>
        <g
           id="g3815">
          <line
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             x1="660"
             y1="220"
             x2="660"
             y2="235.528"
             id="line3817" />
          <polyline
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             points="655,227.764 660,237.764 665,227.764 "
             id="polyline3819" />
        </g>
        <g
           id="g3821">
          <line
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             x1="680"
             y1="220"
             x2="680"
             y2="235.528"
             id="line3823" />
          <polyline
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             points="675,227.764 680,237.764 685,227.764 "
             id="polyline3825" />
        </g>
        <g
           id="g3827">
          <line
             style="fill:none;stroke:#a52a2a;stroke-width:2"
             x1="660"
             y1="280"
             x2="660"
             y2="295.52802"
             id="line3829" />
          <polyline
             style="fill:none;stroke:#a52a2a;stroke-width:2"
             points="655,287.764 660,297.764 665,287.764 "
             id="polyline3831" />
        </g>
        <g
           id="g3833">
          <line
             style="fill:none;stroke:#8b6914;stroke-width:2"
             x1="680"
             y1="280"
             x2="680"
             y2="295.52802"
             id="line3835" />
          <polyline
             style="fill:none;stroke:#8b6914;stroke-width:2"
             points="675,287.764 680,297.764 685,287.764 "
             id="polyline3837" />
        </g>
        <g
           id="g3839">
          <line
             style="fill:none;stroke:#ffc0cb;stroke-width:2"
             x1="700"
             y1="280"
             x2="700"
             y2="295.52802"
             id="line3841" />
          <polyline
             style="fill:none;stroke:#ffc0cb;stroke-width:2"
             points="695,287.764 700,297.764 705,287.764 "
             id="polyline3843" />
        </g>
        <g
           id="g3845">
          <line
             style="fill:none;stroke:#800080;stroke-width:2"
             x1="720"
             y1="280"
             x2="720"
             y2="295.52802"
             id="line3847" />
          <polyline
             style="fill:none;stroke:#800080;stroke-width:2"
             points="715,287.764 720,297.764 725,287.764 "
             id="polyline3849" />
        </g>
        <g
           id="g3851">
          <line
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             x1="700"
             y1="220"
             x2="700"
             y2="235.528"
             id="line3853" />
          <polyline
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             points="695,227.764 700,237.764 705,227.764 "
             id="polyline3855" />
        </g>
      </g>
      <g
         id="rightObs2">
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="400"
           x2="620"
           y2="440"
           id="line3857" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="400"
           x2="640"
           y2="440"
           id="line3859" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="400"
           x2="680"
           y2="440"
           id="line3861" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="460"
           x2="640"
           y2="500"
           id="line3863" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="460"
           x2="660"
           y2="500"
           id="line3865" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="460"
           x2="680"
           y2="500"
           id="line3867" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="460"
           x2="700"
           y2="500"
           id="line3869" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="520"
           x2="660"
           y2="560"
           id="line3871" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="660"
           y1="520"
           x2="680"
           y2="560"
           id="line3873" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="520"
           x2="700"
           y2="560"
           id="line3875" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="700"
           y1="520"
           x2="720"
           y2="560"
           id="line3877" />
        <g
           id="g3879">
          <line
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             x1="620"
             y1="440"
             x2="620"
             y2="455.52802"
             id="line3881" />
          <polyline
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             points="615,447.764 620,457.764 625,447.764 "
             id="polyline3883" />
        </g>
        <g
           id="g3885">
          <line
             style="fill:none;stroke:#008000;stroke-width:2"
             x1="640"
             y1="440"
             x2="640"
             y2="455.52802"
             id="line3887" />
          <polyline
             style="fill:none;stroke:#008000;stroke-width:2"
             points="635,447.764 640,457.764 645,447.764 "
             id="polyline3889" />
        </g>
        <line
           style="fill:none;stroke:#7f7f7f;stroke-width:2"
           x1="680"
           y1="440"
           x2="660"
           y2="460"
           id="line3891" />
        <line
           style="fill:none;stroke:#7f7f7f;stroke-width:2"
           x1="680"
           y1="440"
           x2="700"
           y2="460"
           id="line3893" />
        <g
           id="g3895">
          <line
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             x1="640"
             y1="500"
             x2="640"
             y2="515.52802"
             id="line3897" />
          <polyline
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             points="635,507.764 640,517.764 645,507.764 "
             id="polyline3899" />
        </g>
        <g
           id="g3901">
          <line
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             x1="660"
             y1="500"
             x2="660"
             y2="515.52802"
             id="line3903" />
          <polyline
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             points="655,507.764 660,517.764 665,507.764 "
             id="polyline3905" />
        </g>
        <g
           id="g3907">
          <line
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             x1="680"
             y1="500"
             x2="680"
             y2="515.52802"
             id="line3909" />
          <polyline
             style="fill:none;stroke:#e6e6fa;stroke-width:2"
             points="675,507.764 680,517.764 685,507.764 "
             id="polyline3911" />
        </g>
        <g
           id="g3913">
          <line
             style="fill:none;stroke:#a52a2a;stroke-width:2"
             x1="660"
             y1="560"
             x2="660"
             y2="575.52802"
             id="line3915" />
          <polyline
             style="fill:none;stroke:#a52a2a;stroke-width:2"
             points="655,567.764 660,577.764 665,567.764 "
             id="polyline3917" />
        </g>
        <g
           id="g3919">
          <line
             style="fill:none;stroke:#8b6914;stroke-width:2"
             x1="680"
             y1="560"
             x2="680"
             y2="575.52802"
             id="line3921" />
          <polyline
             style="fill:none;stroke:#8b6914;stroke-width:2"
             points="675,567.764 680,577.764 685,567.764 "
             id="polyline3923" />
        </g>
        <g
           id="g3925">
          <line
             style="fill:none;stroke:#ffc0cb;stroke-width:2"
             x1="700"
             y1="560"
             x2="700"
             y2="575.52802"
             id="line3927" />
          <polyline
             style="fill:none;stroke:#ffc0cb;stroke-width:2"
             points="695,567.764 700,577.764 705,567.764 "
             id="polyline3929" />
        </g>
        <g
           id="g3931">
          <line
             style="fill:none;stroke:#800080;stroke-width:2"
             x1="720"
             y1="560"
             x2="720"
             y2="575.52802"
             id="line3933" />
          <polyline
             style="fill:none;stroke:#800080;stroke-width:2"
             points="715,567.764 720,577.764 725,567.764 "
             id="polyline3935" />
        </g>
        <g
           id="g3937">
          <line
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             x1="700"
             y1="500"
             x2="700"
             y2="515.52802"
             id="line3939" />
          <polyline
             style="fill:none;stroke:#7f7f7f;stroke-width:2"
             points="695,507.764 700,517.764 705,507.764 "
             id="polyline3941" />
        </g>
      </g>
      <g
         id="rightPatient">
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="20"
           x2="640"
           y2="60"
           id="line3943" />
        <line
           style="fill:none;stroke:#000000;stroke-width:2"
           x1="640"
           y1="20"
           x2="660"
           y2="60"
           id="line3945" />
        <g
           id="g3947">
          <line
             style="fill:none;stroke:#ffa500;stroke-width:2"
             x1="640"
             y1="60"
             x2="640"
             y2="75.527901"
             id="line3949" />
          <polyline
             style="fill:none;stroke:#ffa500;stroke-width:2"
             points="635,67.7639 640,77.7639 645,67.7639 "
             id="polyline3951" />
        </g>
        <g
           id="g3953">
          <line
             style="fill:none;stroke:#008000;stroke-width:2"
             x1="660"
             y1="60"
             x2="660"
             y2="75.527901"
             id="line3955" />
          <polyline
             style="fill:none;stroke:#008000;stroke-width:2"
             points="655,67.7639 660,77.7639 665,67.7639 "
             id="polyline3957" />
        </g>
      </g>
    </g>
  </g>
  <text
     font-size="12.7998"
     style="fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"
     x="72"
     y="119"
     id="text3559">
    <tspan
       x="72"
       y="119"
       id="tspan3561" />
  </text>
  <text
     font-size="12.7998"
     style="fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"
     x="140"
     y="100"
     id="text3631">
    <tspan
       x="140"
       y="100"
       id="tspan3633" />
  </text>
  <g
     inkscape:groupmode="layer"
     id="layer2"
     inkscape:label="textmap"
     sodipodi:insensitive="true"
     style="display:inline">
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#leftText"
       id="use5685"
       width="687"
       height="625" />
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#leftTree"
       id="use5689"
       width="687"
       height="625" />
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#arrows"
       id="use5693"
       width="687"
       height="625" />
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#rightText"
       id="use5697"
       width="687"
       height="625" />
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#rightTree"
       id="use5701"
       width="687"
       height="625" />
  </g>
</svg>
      <p>
        This can be viewed as mappig between two trees:
      </p>

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="35cm"
   height="32cm"
   viewBox="40 68 387 175"
   id="svg3553"
   version="1.1"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="BPmap.svg">
  <g
     inkscape:groupmode="layer"
     id="layer1"
     inkscape:label="treemap"
     style="display:inline">
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#leftTree"
       id="use5705"
       transform="translate(-66.475428,-332.37718)"
       width="687"
       height="625" />
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#rightPatient"
       id="use5708"
       width="687"
       height="625"
       transform="translate(-446.11667,-1.2437907)" />
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#rightObs2"
       id="use5715"
       transform="translate(-406.93726,-301.12002)"
       width="687"
       height="625" />
    <use
       style="display:inline"
       x="0"
       y="0"
       xlink:href="#rightObs1"
       id="use5711"
       transform="translate(-325.76608,-71.565469)"
       width="687"
       height="625" />
    <g
       id="treemap"
       transform="translate(-256.84278,-294.1565)">
      <g
         id="g4835"
         transform="matrix(0.99806298,0,0,0.99806298,211.76945,222.62011)">
        <line
           id="line4837"
           y2="124.946"
           x2="346.39899"
           y1="200"
           x1="140"
           style="fill:none;stroke:#7f7f7f;stroke-width:4;stroke-dasharray:5" />
        <polygon
           id="polygon4839"
           points="348.108,129.645 355.797,121.528 344.69,120.247 "
           style="fill:#ffffff" />
        <polygon
           id="polygon4841"
           points="348.108,129.645 355.797,121.528 344.69,120.247 "
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
      </g>
      <g
         id="g4843"
         transform="matrix(0.99806298,0,0,0.99806298,211.76945,222.62011)">
        <line
           id="line4845"
           y2="174.159"
           x2="266.138"
           y1="200"
           x1="180"
           style="fill:none;stroke:#7f7f7f;stroke-width:4;stroke-dasharray:5" />
        <polygon
           id="polygon4847"
           points="267.575,178.948 275.716,171.285 264.701,169.369 "
           style="fill:#ffffff" />
        <polygon
           id="polygon4849"
           points="267.575,178.948 275.716,171.285 264.701,169.369 "
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
      </g>
      <g
         id="g4851"
         transform="matrix(0.99806298,0,0,0.99806298,211.76945,222.62011)">
        <line
           id="line4853"
           y2="95.5662"
           x2="226.64101"
           y1="140"
           x1="120"
           style="fill:none;stroke:#7f7f7f;stroke-width:4;stroke-dasharray:5" />
        <polygon
           id="polygon4855"
           points="228.564,100.182 235.872,91.7201 224.718,90.9508 "
           style="fill:#ffffff" />
        <polygon
           id="polygon4857"
           points="228.564,100.182 235.872,91.7201 224.718,90.9508 "
           style="fill:none;stroke:#7f7f7f;stroke-width:4" />
      </g>
    </g>
  </g>
</svg>

    </div>

    <div>
      <h2 id="Issues">Issues</h2>
      <ul>
        <li>
          <em>glue between heads and bodies</em>
          <p>
            In principle, shared variables are enough to associated rule heads with rule bodies.
            We need to test this with compositions in which a DAM uses variables bound in multiple physical models (e.g. a body mass in a BMI) and multiple DAMs used the same variables (e.g. BMI and EGFR).
          </p>
        </li>
        <li>
          <em>n-ary predicates</em>
          <p>
            Mapping directed, labeled graphs to familiar n-ary predicates for use in e.g. Quick (CQL).
          </p>
        </li>
      </ul>
    </div>

    <address>
      ideas from Claude Nanjo and Mohammad Hekmatnejad:<br/>
      edited by: <a href="http://www.w3.org/People/Eric/">Eric Prud'hommeaux</a>
      $id$
    </address>
  </body>
</html>
